(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"/qDB":function(t,s,e){"use strict";e.r(s),e.d(s,"PreguntadosModule",function(){return S});var n=e("ofXK"),i=e("tyNb");class o{constructor(t,s,e,n){this.id=t,this.title=s,this.options=e,this.urlImage=n}}var c=e("LYyA"),r=e("fXoL"),b=e("tk/3");let d=(()=>{class t{constructor(t){this.httpClient=t,this.URL_BASE="https://go-preguntados-backend.herokuapp.com/"}getQuestionsWithAnswers(){return this.httpClient.get(this.URL_BASE)}}return t.\u0275fac=function(s){return new(s||t)(r.Wb(b.b))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=e("gLg0");function l(t,s){if(1&t){const t=r.Tb();r.Sb(0,"div",3),r.Sb(1,"div",4),r.Sb(2,"h1"),r.sc(3,"\xa1Termin\xf3 el juego!"),r.Rb(),r.Sb(4,"ul"),r.Sb(5,"li"),r.Sb(6,"h3"),r.sc(7),r.Rb(),r.Rb(),r.Sb(8,"li"),r.Sb(9,"h3"),r.sc(10),r.Rb(),r.Rb(),r.Sb(11,"li"),r.Sb(12,"h3"),r.sc(13),r.Rb(),r.Rb(),r.Rb(),r.Sb(14,"button",5),r.Zb("click",function(){return r.lc(t),r.dc().reset()}),r.sc(15,"Jugar de nuevo "),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.dc();r.Bb(7),r.uc("Respuestas correctas: ",t.wellAnswers,""),r.Bb(3),r.uc("Respuestas incorrectas: ",t.badAnswers,""),r.Bb(3),r.uc("Puntos: ",t.points,"")}}function a(t,s){1&t&&(r.Sb(0,"div",3),r.Sb(1,"div",4),r.Sb(2,"div",8),r.Sb(3,"div",9),r.Sb(4,"strong"),r.sc(5,"Correcta!"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb())}function h(t,s){1&t&&(r.Sb(0,"div",10),r.Sb(1,"div",4),r.Sb(2,"div",11),r.Sb(3,"div",9),r.Sb(4,"strong"),r.sc(5,"Ups, esa no era!"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb())}function g(t,s){if(1&t&&(r.Sb(0,"div",12),r.Sb(1,"h1"),r.sc(2),r.Rb(),r.Ob(3,"img",13),r.Rb()),2&t){const t=r.dc(2);r.Bb(2),r.tc(t.selectedQuestion.title),r.Bb(1),r.gc("src",t.selectedQuestion.urlImage,r.nc)("alt",t.selectedQuestion.title)}}function p(t,s){if(1&t){const t=r.Tb();r.Sb(0,"div",15),r.Sb(1,"button",16),r.Zb("click",function(){r.lc(t);const e=s.$implicit;return r.dc(3).response(e.isRight)}),r.sc(2),r.Rb(),r.Rb()}if(2&t){const t=s.$implicit,e=r.dc(3);r.Bb(1),r.gc("disabled",e.isDisabled),r.Bb(1),r.tc(t.title)}}function f(t,s){if(1&t&&(r.Sb(0,"div",3),r.rc(1,p,3,2,"div",14),r.Rb()),2&t){const t=r.dc(2);r.Bb(1),r.gc("ngForOf",t.selectedQuestion.options)}}function v(t,s){if(1&t&&(r.Sb(0,"div"),r.rc(1,a,6,0,"div",1),r.rc(2,h,6,0,"div",6),r.Sb(3,"div",3),r.rc(4,g,4,3,"div",7),r.Rb(),r.rc(5,f,2,1,"div",1),r.Rb()),2&t){const t=r.dc();r.Bb(1),r.gc("ngIf",t.userAnswer&&void 0!==t.userAnswer),r.Bb(1),r.gc("ngIf",!t.userAnswer&&void 0!==t.userAnswer),r.Bb(2),r.gc("ngIf",void 0!==t.selectedQuestion),r.Bb(1),r.gc("ngIf",void 0!==t.selectedQuestion)}}const w=[{path:"",component:(()=>{class t{constructor(t,s){this.preguntadosService=t,this.scoreService=s,this.questions=[],this.isDisabled=!1,this.round=1,this.points=0,this.wellAnswers=0,this.badAnswers=0,this.getAllQuestionsAndAnswers()}ngOnInit(){}getAllQuestionsAndAnswers(){this.preguntadosService.getQuestionsWithAnswers().toPromise().then(t=>{for(const s of t){const t=new o(s.id,s.title,s.options,s.urlImage);this.questions.push(t)}this.selectedQuestion=this.getRandomQuestion()})}getRandomQuestion(){var t;let s=this.questions[Math.floor(Math.random()*this.questions.length)];return s.title===(null===(t=this.selectedQuestion)||void 0===t?void 0:t.title)&&(s=this.questions[Math.floor(Math.random()*this.questions.length)]),s}response(t){this.accumStats(t),this.isDisabled=!0,this.userAnswer=t,setTimeout(()=>this.next(),2e3)}reset(){this.points>0&&this.scoreService.save(this.points,c.a.PREGUNTADOS),this.points=0,this.round=1,this.wellAnswers=0,this.badAnswers=0,this.next()}accumStats(t){this.points=t?this.points+10:this.points,t?this.wellAnswers++:this.badAnswers++,this.round++}next(){this.userAnswer=void 0,this.isDisabled=!1,this.selectedQuestion=this.getRandomQuestion()}}return t.\u0275fac=function(s){return new(s||t)(r.Nb(d),r.Nb(u.a))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-preguntados"]],decls:3,vars:2,consts:[[1,"container"],["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col"],[1,"answerButton","btn","btn-pill","btn-success",3,"click"],["class","row mb-2",4,"ngIf"],["class","col text-md-center",4,"ngIf"],["role","alert",1,"alert","alert-success"],[1,"alert-message","text-md-center"],[1,"row","mb-2"],["role","alert",1,"alert","alert-danger"],[1,"col","text-md-center"],["width","500","height","500",3,"src","alt"],["class","col buttons text-md-center",4,"ngFor","ngForOf"],[1,"col","buttons","text-md-center"],[1,"answerButton","btn","btn-pill","btn-info",3,"disabled","click"]],template:function(t,s){1&t&&(r.Sb(0,"div",0),r.rc(1,l,16,3,"div",1),r.rc(2,v,6,4,"div",2),r.Rb()),2&t&&(r.Bb(1),r.gc("ngIf",10===s.round),r.Bb(1),r.gc("ngIf",s.round<10))},directives:[n.k,n.j],styles:[".answerButton[_ngcontent-%COMP%]{font-size:x-large}.buttons[_ngcontent-%COMP%]{margin-top:5%;padding:0}img[_ngcontent-%COMP%]{padding:1%}"]}),t})()}];let R=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[i.g.forChild(w)],i.g]}),t})(),S=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[d],imports:[[n.c,R]]}),t})()}}]);