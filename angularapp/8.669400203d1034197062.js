(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"305l":function(e,t,i){"use strict";i.r(t),i.d(t,"AuthModule",function(){return h});var n=i("ofXK"),r=i("tyNb"),o=i("3Pt+"),s=i("fXoL"),a=i("lGQG"),b=i("OC8m");function c(e,t){if(1&e){const e=s.Tb();s.Sb(0,"span"),s.Sb(1,"button",20),s.Zb("click",function(){s.lc(e);const i=t.index;return s.dc().autoLogin(i+1)}),s.Ob(2,"i",21),s.sc(3),s.Rb(),s.Rb()}if(2&e){const e=t.$implicit;s.Bb(3),s.uc(" ",e.name,"")}}function l(e,t){if(1&e&&(s.Sb(0,"div",16),s.Sb(1,"button",17),s.Sb(2,"span",18),s.sc(3,"\xd7"),s.Rb(),s.Rb(),s.Sb(4,"div",19),s.Ob(5,"i",20),s.Rb(),s.Sb(6,"div",21),s.Sb(7,"strong"),s.sc(8,"Ups! "),s.Rb(),s.sc(9),s.Rb(),s.Rb()),2&e){const e=s.dc();s.Bb(9),s.uc("",e.errorMessage," ")}}const d=[{path:"",children:[{path:"login",component:(()=>{class e{constructor(e,t,i){this.authService=e,this.notificationService=t,this.routerService=i,this.loginForm=new o.e({email:new o.c(""),password:new o.c("")}),this.testUsers=[{name:"User Test 1"},{name:"User Test 2"},{name:"User Test 3"}]}ngOnInit(){}onLogin(){const{email:e,password:t}=this.loginForm.value;this.authService.login(e,t).then(t=>this.handleLogin(t,e))}autoLogin(e){const t=`test_utn${e.toString()}@test.com`,i=`test_utn${e.toString()}`;this.notificationService.showSuccess("Iniciando sesi\xf3n...",`${t}`),this.authService.login(t,i).then(e=>{setTimeout(()=>{this.handleLogin(e,t)},1e3)})}handleLogin(e,t){e.isNewUser||e.user.email!==t||setTimeout(()=>{this.routerService.navigate(["/"]).then(()=>{window.location.reload()})},3e3)}}return e.\u0275fac=function(t){return new(t||e)(s.Nb(a.a),s.Nb(b.a),s.Nb(r.e))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-login"]],decls:34,vars:2,consts:[[1,"container-fluid","p-0"],[1,"h3","mb-3"],[1,"row"],[1,"col-12","col-xl-12"],[1,"card"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","email","placeholder","Email","formControlName","email",1,"form-control"],["type","password","placeholder","Password","formControlName","password",1,"form-control"],["routerLink","auth/signup"],[1,"mt-3"],["type","submit",1,"btn","btn-block","btn-primary","btn-lg","font-weight-medium","auth-form-btn"],[1,"bi","bi-box-arrow-in-right"],[1,"card-header"],[1,"card-title"],[1,"card-subtitle","text-muted"],[1,"card-body","text-center","quickLogin"],[4,"ngFor","ngForOf"],[1,"btn","btn-info",3,"click"],[1,"bi","bi-person-circle"]],template:function(e,t){1&e&&(s.Sb(0,"div",0),s.Sb(1,"h1",1),s.sc(2,"Iniciar sesi\xf3n"),s.Rb(),s.Sb(3,"div",2),s.Sb(4,"div",3),s.Sb(5,"div",4),s.Sb(6,"div",5),s.Sb(7,"form",6),s.Zb("ngSubmit",function(){return t.onLogin()}),s.Sb(8,"div",7),s.Sb(9,"label",8),s.sc(10,"Email"),s.Rb(),s.Ob(11,"input",9),s.Rb(),s.Sb(12,"div",7),s.Sb(13,"label",8),s.sc(14,"Contrase\xf1a"),s.Rb(),s.Ob(15,"input",10),s.Rb(),s.Sb(16,"div",7),s.Sb(17,"span"),s.sc(18,"No ten\xe9s cuenta? "),s.Sb(19,"a",11),s.sc(20,"Cre\xe1 una ac\xe1"),s.Rb(),s.Rb(),s.Rb(),s.Sb(21,"div",12),s.Sb(22,"button",13),s.sc(23,"INGRESAR "),s.Ob(24,"i",14),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(25,"div",4),s.Sb(26,"div",15),s.Sb(27,"h5",16),s.sc(28,"Acceso r\xe1pido"),s.Rb(),s.Sb(29,"h6",17),s.sc(30,"Pod\xe9s loguearte con 3 usuarios de tests distintos para realizar pruebas."),s.Rb(),s.Rb(),s.Sb(31,"div",18),s.Sb(32,"div",7),s.rc(33,c,4,1,"span",19),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&e&&(s.Bb(7),s.gc("formGroup",t.loginForm),s.Bb(26),s.gc("ngForOf",t.testUsers))},directives:[o.q,o.i,o.f,o.b,o.h,o.d,r.f,n.j],styles:[".quickLogin[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1%}"]}),e})()},{path:"signup",component:(()=>{class e{constructor(e,t,i){this.authService=e,this.nofiticationService=t,this.routerService=i,this.registerForm=new o.e({email:new o.c(""),password:new o.c("")}),this.emailAlreadyInUse="auth/email-already-in-use",this.invalidEmail="auth/invalid-email",this.invalidPassword="auth/weak-password"}ngOnInit(){}onRegister(){const{email:e,password:t}=this.registerForm.value;this.authService.signUp(e,t).then(i=>{i.additionalUserInfo.isNewUser&&(this.authService.login(e,t),this.routerService.navigate(["/"]).then(()=>{window.location.reload()}))}).catch(e=>{e.code===this.emailAlreadyInUse&&(this.errorMessage="El email se encuentra registrado."),e.code===this.invalidEmail&&(this.errorMessage="Email inv\xe1lido."),e.code===this.invalidPassword&&(this.errorMessage="La contrase\xf1a debe tener m\xe1s de 6 caracteres.")})}}return e.\u0275fac=function(t){return new(t||e)(s.Nb(a.a),s.Nb(b.a),s.Nb(r.e))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-signin"]],decls:26,vars:2,consts:[[1,"container-fluid","p-0"],[1,"h3","mb-3"],[1,"row"],[1,"col-12","col-xl-12"],["class","alert alert-danger alert-dismissible","role","alert",4,"ngIf"],[1,"card"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","email","placeholder","Email","formControlName","email",1,"form-control"],["type","password","placeholder","Password","formControlName","password",1,"form-control"],["routerLink","auth/login"],[1,"mt-3"],["type","submit",1,"btn","btn-block","btn-danger","btn-lg","font-weight-medium","auth-form-btn"],[1,"bi","bi-box-arrow-in-right"],["role","alert",1,"alert","alert-danger","alert-dismissible"],["type","button","data-dismiss","alert","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"alert-icon"],[1,"bi","bi-bug"],[1,"alert-message"]],template:function(e,t){1&e&&(s.Sb(0,"div",0),s.Sb(1,"h1",1),s.sc(2,"Registrarse"),s.Rb(),s.Sb(3,"div",2),s.Sb(4,"div",3),s.rc(5,l,10,1,"div",4),s.Sb(6,"div",5),s.Sb(7,"div",6),s.Sb(8,"form",7),s.Zb("ngSubmit",function(){return t.onRegister()}),s.Sb(9,"div",8),s.Sb(10,"label",9),s.sc(11,"Email"),s.Rb(),s.Ob(12,"input",10),s.Rb(),s.Sb(13,"div",8),s.Sb(14,"label",9),s.sc(15,"Contrase\xf1a"),s.Rb(),s.Ob(16,"input",11),s.Rb(),s.Sb(17,"div",8),s.Sb(18,"span"),s.sc(19,"Ya ten\xe9s una cuenta? "),s.Sb(20,"a",12),s.sc(21,"Ingres\xe1"),s.Rb(),s.Rb(),s.Rb(),s.Sb(22,"div",13),s.Sb(23,"button",14),s.sc(24,"REGISTRARSE "),s.Ob(25,"i",15),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&e&&(s.Bb(5),s.gc("ngIf",void 0!==t.errorMessage),s.Bb(3),s.gc("formGroup",t.registerForm))},directives:[n.k,o.q,o.i,o.f,o.b,o.h,o.d,r.f],styles:[""]}),e})()},{path:"**",redirectTo:"login"}]}];let u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({imports:[[r.g.forChild(d)],r.g]}),e})();var m=i("tk/3");let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({imports:[[n.c,u,o.g,o.n,m.c]]}),e})()}}]);